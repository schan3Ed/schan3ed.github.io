/* @license searchjs | (c) Searchjs Team and other contributors | https://github.com/deitch/searchjs */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.SEARCHJS={})}(this,function(e){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function v(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function p(e,o,r,t){var n=null,i=void 0,l=void 0,f=void 0,a=void 0,d=-1;if(r){if(0===t)return null;-1!==t&&(d=t-1)}if(null==e||null==o||!Array.isArray(o)||o.length<1)n=null;else if(Array.isArray(e)){for(n=[],i=0;i<e.length;i++)l=o.slice(0),(f=p(e[i],l,r,d-1))&&n.push(f);0===n.length&&(n=null)}else if("object"===(void 0===e?"undefined":c(e)))if(a=o[0],!e.hasOwnProperty(a)&&r){var s=Object.keys(e);for(n=[],i=0;i<s.length;i++){var u=e[s[i]];if(null!=u)if(Array.isArray(u))u.forEach(function(e){var t=p(e,o,r,d);null!==t&&n.push(t)});else if("Object"===u.constructor.name){var v=p(u,o,r,d);null!==v&&n.push(v)}}0===n.length?n=null:1===n.length&&(n=n[0])}else n=o.length<2?e[a]:p(e[a],o.slice(1),r,d);return n}function r(e,t,o){return void 0!==e?e:void 0!==t?t:o}function i(e,t){var o={};return e=e||{},o.negator=r(e._not,t.negator,!1),o.joinAnd="OR"!==r(e._join,t.join,"AND"),o.text=r(e._text,t.text,!1),o.word=r(e._word,t.word,!1),o.start=r(e._start,t.start,!1),o.end=r(e._end,t.end,!1),o.separator=e._separator||t.separator||".",o.propertySearch=r(e._propertySearch,t.propertySearch,!1),o.propertySearchDepth=r(e._propertySearchDepth,t.propertySearchDepth,-1),o}var l={};function h(e,t,o,r,n,i){var l,f=!1,a=void 0,d=void 0,s=void 0,u=void 0;if(l=void 0===e?"undefined":c(e),null===e)f=null===t;else if(void 0===e)f=void 0===t;else if("boolean"===l)f=t===e;else if("number"===l||e instanceof Date)null!=t&&"object"===v(t)?void 0!==t.from||void 0!==t.to||void 0!==t.gte||void 0!==t.lte?(s=t.from||t.gte,u=t.to||t.lte,f=(void 0===t.from&&void 0===t.gte||s<=e)&&(void 0===t.to&&void 0===t.lte||e<=u)):void 0===t.gt&&void 0===t.lt||(f=(void 0===t.gt||e>t.gt)&&(void 0===t.lt||e<t.lt)):f=e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t;else if("string"===l)"string"==typeof t&&(t=t.toLowerCase()),e=e.toLowerCase(),o?f=-1!==e.indexOf(t):r?(a=new RegExp("(\\s|^)"+t+"(?=\\s|$)","i"),f=e&&null!==e.match(a)):n?(a=new RegExp("^"+t,"i"),f=e&&null!==e.match(a)):i?(a=new RegExp(t+"$","i"),f=e&&null!==e.match(a)):null!=t&&"object"===v(t)?void 0!==t.from||void 0!==t.to||void 0!==t.gte||void 0!==t.lte?(s=t.from||t.gte,u=t.to||t.lte,f=(void 0===t.from&&void 0===t.gte||s<=e)&&(void 0===t.to&&void 0===t.lte||e<=u)):void 0===t.gt&&void 0===t.lt||(f=(void 0===t.gt||e>t.gt)&&(void 0===t.lt||e<t.lt)):f=t===e;else if(void 0!==e.length)for(d=0;d<e.length&&!(f=h(e[d],t,o,r,n,i));d++);else"object"===l&&(f=void 0!==e[t]);return f}function d(e,t){return f(e,t,i(t,l))}function f(e,t,o){var r=void 0,n=void 0,i=void 0,l=void 0,f=void 0,a=void 0;if(t=t||{},i=!!o.joinAnd,t.terms)for(n=0;n<t.terms.length;n++){if(l=d(e,t.terms[n]),o.negator&&(l=!l),o.joinAnd&&!l){i=!1;break}if(!o.joinAnd&&l){i=!0;break}}else for(r in t)if(t.hasOwnProperty(r)&&0!==r.indexOf("_")){for(a=r.split(o.separator),f=[].concat(t[r]),n=0;n<f.length&&!(l=h(p(e,a,o.propertySearch,o.propertySearchDepth),f[n],o.text,o.word,o.start,o.end));n++);if(o.negator&&(l=!l),o.joinAnd&&!l){i=!1;break}if(!o.joinAnd&&l){i=!0;break}}return i}e.setDefaults=function(e){for(var t in e)l[t]=e[t]},e.resetDefaults=function(){l={}},e.singleMatch=h,e.matchArray=function(e,t){var o=void 0,r=[],n=i(t,l);if(e&&0<e.length)for(o=0;o<e.length;o++)f(e[o],t,n)&&r.push(e[o]);return r},e.matchObject=d,Object.defineProperty(e,"__esModule",{value:!0})});